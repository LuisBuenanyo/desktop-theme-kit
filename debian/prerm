#!/bin/sh
# prerm script for desktop-theme-package
#
# see: dh_installdeb(1)

set -e

uninstall_alternatives() {
    update-alternatives --remove \
        desktop-background \
        /usr/share/desktop-theme-custom/backgrounds/custom-wallpaper.png

    update-alternatives --remove \
        desktop-background.xml \
        /usr/share/desktop-theme-custom/backgrounds/custom-gnome-lockscreen.xml

    update-alternatives --remove \
        desktop-gdm3-background \
        /usr/share/desktop-theme-custom/gdm3/custom-gdm3-background.conf

    update-alternatives --remove \
        desktop-grub \
        /usr/share/desktop-theme-custom/grub/custom-grub.png

    update-alternatives --remove \
        desktop-grub-theme \
        /usr/share/desktop-theme-custom/grub/theme/theme.txt

    update-alternatives --remove \
        desktop-ksplash-conf \
        /usr/share/desktop-theme-custom/ksplash/custom-ksplash.conf

    update-alternatives --remove \
        desktop-ksplash-theme \
        /usr/share/kde4/apps/ksplash/Themes/custom

    update-alternatives --remove \
        desktop-kdm-conf \
        /usr/share/desktop-theme-custom/kdm-theme/custom-kdm.conf

    update-alternatives --remove \
        desktop-kdm-theme \
        /usr/share/kde4/apps/kdm/themes/custom

    update-alternatives --remove \
        desktop-kde-conf \
        /usr/share/desktop-theme-custom/kde-wallpaper/custom-kde-wallpaper.conf

    update-alternatives --remove \
        desktop-kde-theme \
        /usr/share/wallpapers/custom

    update-alternatives --remove \
        desktop-login \
        /usr/share/desktop-theme-custom/backgrounds/custom-login.png
}

case "$1" in
    remove|upgrade|deconfigure)
        uninstall_alternatives
    ;;

    failed-upgrade)
    ;;

    *)
        echo "prerm called with unknown argument \`$1'" >&2
        exit 1
    ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0
